<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=1280, height=720, initial-scale=1.0">
    <title>Frontier Kingdom | Web Hatchery Games</title>
    <link rel="stylesheet" href="../shared.css">
    <style>
        .game-container canvas {
            image-rendering: pixelated;
            image-rendering: crisp-edges;
        }
    </style>
</head>

<body>
    <div class="game-page">
        <header class="game-header">
            <h1>‚öîÔ∏è Frontier Kingdom</h1>
            <a href="../" class="back-link">‚Üê All Games</a>
        </header>

        <!-- Game Canvas -->
        <div class="game-container" id="game-container">
            <div class="loading-overlay" id="loading">
                <div class="loading-spinner"></div>
                <p>Loading game...</p>
            </div>
            <canvas id="glcanvas" tabindex="1"></canvas>
        </div>

        <!-- Controls Bar -->
        <div class="game-controls">
            <button class="btn btn-secondary btn-icon" onclick="toggleFullscreen()" title="Fullscreen">‚õ∂</button>
            <button class="btn btn-secondary" onclick="focusGame()">üéÆ Focus Game</button>
            <span style="flex: 1;"></span>
            <span style="color: var(--text-muted); font-size: 0.85rem;">Click the game canvas to start</span>
        </div>

        <!-- Info Section -->
        <div class="game-info">
            <div class="info-main">
                <section class="info-section">
                    <h2>About This Game</h2>
                    <p>
                        A dark card-based expedition RPG inspired by <strong>Darkest Dungeon</strong> and <strong>Slay
                            the Spire</strong>.
                        Lead a band of adventurers into the unknown wilds. Build your kingdom, recruit heroes,
                        and send expeditions into dangerous territories.
                    </p>
                    <p>
                        Survive combat through tactical card play, manage your party's stress and health,
                        and unlock new regions as you expand your frontier.
                    </p>
                </section>

                <section class="info-section" style="margin-top: 1rem;">
                    <h2>Controls</h2>
                    <ul class="controls-list">
                        <li><kbd>Tab</kbd><span>Switch focus (Roster ‚Üî Buildings)</span></li>
                        <li><kbd>‚Üë/‚Üì</kbd><span>Navigate menus</span></li>
                        <li><kbd>Enter</kbd><span>Select / Build</span></li>
                        <li><kbd>‚Üê/‚Üí</kbd><span>Select card in combat</span></li>
                        <li><kbd>Space</kbd><span>Advance / Play card</span></li>
                        <li><kbd>E</kbd><span>End turn</span></li>
                        <li><kbd>F5</kbd><span>Save game</span></li>
                        <li><kbd>F9</kbd><span>Load game</span></li>
                    </ul>
                </section>

                <section class="info-section" style="margin-top: 1rem;">
                    <h2>Features</h2>
                    <p>
                        ‚Ä¢ <strong>Turn-based card combat</strong> with energy management and enemy intents<br>
                        ‚Ä¢ <strong>Status effects</strong> - Vulnerable, Weak, Strengthened, Guarded, Stunned<br>
                        ‚Ä¢ <strong>Branching missions</strong> - Choose your path through combat, events, and rest<br>
                        ‚Ä¢ <strong>Kingdom management</strong> - Build structures and recruit adventurers
                    </p>
                </section>
            </div>

            <aside class="game-sidebar">
                <div class="sidebar-section">
                    <h3>Status</h3>
                    <span class="status-badge playable">‚úì Playable</span>
                </div>

                <div class="sidebar-section">
                    <h3>Details</h3>
                    <ul class="meta-list">
                        <li><span class="label">Genre</span><span class="value">Card RPG</span></li>
                        <li><span class="label">Engine</span><span class="value">Macroquad</span></li>
                        <li><span class="label">Platform</span><span class="value">Browser, Windows</span></li>
                    </ul>
                </div>

                <div class="sidebar-section">
                    <h3>Downloads</h3>
                    <a href="#" class="btn btn-secondary" style="width: 100%; justify-content: center;">
                        üì• Windows Build
                    </a>
                </div>
            </aside>
        </div>

        <footer class="game-footer">
            <p>Built with Rust + Macroquad | <a href="/">Web Hatchery</a></p>
        </footer>
    </div>

    <!-- Macroquad JS Bundle -->
    <script src="mq_js_bundle.js"></script>
    <script>
        document.getElementById('loading').style.display = 'none';
        load("frontier_kingdom.wasm");

        function toggleFullscreen() {
            const container = document.getElementById('game-container');
            if (!document.fullscreenElement) {
                container.requestFullscreen();
            } else {
                document.exitFullscreen();
            }
        }

        function focusGame() {
            document.getElementById('glcanvas').focus();
        }
    </script>
</body>

</html>